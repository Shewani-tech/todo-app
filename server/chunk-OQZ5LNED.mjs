import './polyfills.server.mjs';
import{a as V}from"./chunk-A47KT22J.mjs";import{a as $}from"./chunk-KBWMSDKQ.mjs";import"./chunk-S2CEQ5EC.mjs";import"./chunk-J4BDXTMW.mjs";import{a as O}from"./chunk-7X3BT7GA.mjs";import{$b as E,Da as s,Ea as f,Q as h,Ta as _,V as g,Va as m,Xa as C,Xb as w,Yb as I,Za as n,_a as r,_b as L,ba as c,ca as d,cb as x,eb as p,fb as u,hb as a,ib as S,jb as T,ob as y,qb as F,rb as k,sb as b}from"./chunk-QZ6RFIV7.mjs";import"./chunk-VVCT4QZE.mjs";var B=(o,v)=>({"list-group-item-success":o,"border-primary":v});function D(o,v){if(o&1){let e=x();n(0,"ul",4)(1,"li",5)(2,"div",6)(3,"i",7),p("click",function(){let i=c(e).$implicit,l=u();return d(l.isFavorite(i))}),r(),n(4,"div",8)(5,"input",9),p("change",function(){let i=c(e).$implicit,l=u();return d(l.onChange(i))}),r(),n(6,"label",10),a(7),r()()(),n(8,"div",6)(9,"span",11),a(10),k(11,"date"),r(),n(12,"button",12),p("click",function(){let i=c(e).$implicit,l=u();return d(l.deleteTodo(i))}),a(13,"x"),r()()()()}if(o&2){let e=v.$implicit;s(),m("ngClass",F(8,B,e.isCompleted,e.isCompleted)),s(2),m("ngClass",e.isFavorite?"text-danger":""),s(3),C("text-decoration-line-through",e.isCompleted),s(),T(" ",e==null?null:e.title," "),s(3),S(b(11,6,e==null?null:e.date))}}var z=(()=>{class o{constructor(e,t){this.toasterService=e,this.route=t,this.listService=h(O),this.fav=[],this.todos=[],this.viewList=!0,this.isCompleted=!1}ngOnInit(){this.todos=this.listService.todoList}onChange(e){e.isCompleted=!e.isCompleted,e.isCompleted&&this.toasterService.success(`Todo "${e.title}" marked as completed`,"Completed")}deleteTodo(e){this.listService.deleteTodo(e),this.toasterService.error(`Todo ${e.id} Deleted!`,"Deleted Successfuly")}isFavorite(e){if(e.isFavorite=!e.isFavorite,e.isFavorite)this.toasterService.success("Todo Added to Favorite"),this.fav.push(e),localStorage.setItem("favorite",JSON.stringify(this.fav));else{this.toasterService.error("Todo Removed from Favorite");let t=this.fav.findIndex(i=>i.id===e.id);console.log("index is",t),t!==-1&&(this.fav.splice(t,1),localStorage.setItem("favorite",JSON.stringify(this.fav)))}this.listService.updateFav()}trackById(e,t){return t.id}toggleClass(e){return e.isCompleted?{"list-group-item-success":!0,"border-primary":!0}:{}}static{this.\u0275fac=function(t){return new(t||o)(f($),f(V))}}static{this.\u0275cmp=g({type:o,selectors:[["app-todo-list"]],standalone:!0,features:[y],decls:5,vars:2,consts:[[1,"card","shadow"],[1,"card-header"],[1,"card-body"],["class","list-group",4,"ngFor","ngForOf","ngForTrackBy"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"ngClass"],[1,"d-flex","align-items-center"],[1,"fa","fa-heart","mx-3","btn",3,"click","ngClass"],[1,"form-check","d-inline"],["type","checkbox",1,"form-check-input",3,"change"],[1,"form-check-label","lead"],[1,"mx-3"],[1,"btn","btn-danger","btn-sm","mx-3",3,"click"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"h5",1),a(2,"My Todo List"),r(),n(3,"div",2),_(4,D,14,11,"ul",3),r()()),t&2&&(s(4),m("ngForOf",i.listService.todoList)("ngForTrackBy",i.trackById))},dependencies:[E,w,I,L]})}}return o})();export{z as TodoListComponent};
